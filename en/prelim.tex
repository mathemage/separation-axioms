\chapter{Preliminaries}

\section{Notations}

\begin{itemize}
\item $2^X$ is the set of~all subsets, explicitly, $2^X = \{ S \st S\subseteq X
\}$.

\item $A \Subset B$ means {\sl set $A$ is a finite subset of set $B$\/}.

\item $\Omega(X)$ denotes the lattice (more specifically, the frame) of open
sets in~$X$ together with $\subseteq$ as the ordering. 
By abuse of notation, we denote the related underlying set in the same way.

\item $\overline{S}$ is the~closure of $S$ in topology $(X, \Omega(X))$.
It is defined by
\[
  \overline{S} = \bigcap_{ \text{closed } A\colon \, A\supseteq S} A
  \, ,
\]
or equivalently,
\[
  \overline{S} = \{ x \in X \st U\in\Omega(X) \text{ and } U\owns x \Rightarrow
  U \cap S \ne \none \}.
\]
\item $f^*$ resp. $f_*$ is the~left resp. right adjoint of $f$ (viz ``Order
theory'').
\item $\left\downarrow U \right. = \bigcup_{u\in U} \{x \st x \le u\}$ and
$\left\uparrow U \right. = \bigcup_{u\in U} \{x \st x \ge u\}$.
Especially,
\[
  \left\downarrow a \right. = \{x \st x \le a\} \text{ and } \left\uparrow a
  \right. = \{x \st x \ge a\}.
\]

\end{itemize}

\section{Definitions}

\subsection*{Order theory}

\begin{itemize}
\item A \emph{pseudocomplement} of an element $x$ is $x^*$ such that $y \le x^*
\equiv x \wedge y = 0$.
\end{itemize}

\begin{fact}
  $x \le x^{**}$.
  (As the $x$, among others, meets with $x^*$ in $x^* \wedge x = 0$.)
\end{fact}

\begin{itemize}
\item A relation $R$ \emph{interpolates} if $R \subseteq R \circ R$.

\item Monotone maps $l\colon A \to B$ and $r\colon B \to A$ are \emph{Galois
  adjoints\/} ($l$ is a~\emph{left adjoint\/} of $r$ and $r$ is a~\emph{right
  adjoint\/} of $l$) if for every $a\in A, \, b\in B$
  \[
    l(a) \le b \; \equiv \; a \le r(b).
  \]
\end{itemize}

\begin{note}
  Adjoints are unique: $l_1(a) \le b \; \equiv a \le r(b) \; \equiv \; l_2(a)
  \le b$ leads to
  \begin{align*}
    l_1(a) \le l_2(a) \; &\equiv \; l_2(a) \le l_2(a) \\
    \text{and } l_1(a) \le l_1(a) \; &\equiv \; l_2(a) \le l_1(a)
  \end{align*}
  and hence $l_1(a) = l_2(a)$ for $a\in A$.
  Symmetrically for right adjoints.
\end{note}

\begin{fact} \label{lr-id-rl}
  $lr \le id$ resp. $id \le rl$.
  (Set $a := r(b)$ resp. $b := l(a)$.)
\end{fact}

\begin{fact} \label{lrl=l}
  $lrl = l$.
  (Following from Fact~\ref{lr-id-rl} and the monotonicity of $l$, we get $l
   \le lrl$.
  On~the~other hand, $lr(b) \le b$ with $b := l(a)$ gives us $lrl \le l$.)
\end{fact}

\begin{itemize}
\item A~set $U$ is a~\emph{down-set\/} resp. an~\emph{up-set\/} if
$\left\downarrow U \right. = U$ resp. $\left\uparrow U \right. = U$.

\item Let $X$ be a~partially ordered set.
Then $\D(X)$ is the partially ordered set of~all down-sets in $X$ ordered by
inclusion.

\end{itemize}

\subsection*{Algebra}

\begin{itemize}
\item An \emph{operation\/} $\alpha$ with the (not necessarily finite)
  \emph{arity\/} $\delta$ over a~set $A$ is a~function of~the~form
  $\alpha\colon A^{\delta} \to A$.

\item An \emph{algebra\/} of~the~\emph{type\/} $\delta = (\delta_t)_{t\in T}$
is a~structure $\Acal$ consisting of
  \begin{itemize}
  \item the carrier set $A$
  \item operations $(\alpha_t\colon A^{\delta_t} \to A)_{t\in T}$
  \end{itemize}

\item By abuse of notation, for two algebras of the same type we will denote
the~corresponding operations by the same name.
For instance, $\alpha_t$ and $\beta_t$ of~the same arity $\delta_t$ will be
$\rho_t$.

\item A~map~$h\colon A \to B$ between algebras $\Acal$ and $\Bcal$
\emph{preserves\/} operation $\rho\colon A^\delta \to A$ (or~\emph{commutes
with\/}~$\rho$) if
\[
  h( \rho(\, (a_i)_{i\in \delta}\,)) = \rho(\, (h(a_i))_{i\in \delta}\, )
\]
where $(a_i)_{i\in \delta} \in A^\delta$.

\item A~\emph{homomorphism\/}~$h\colon A \to B$ between algebras $\Acal$ and
$\Bcal$ (of the same type) is a~mapping preserving every operation of $\Acal$.
\end{itemize}

\begin{lem} \label{lem:onto->homo}
  Let $\Acal, \Bcal, \Ccal$ be algebras of the same type and $f\colon \Acal \to
  \Bcal, g\colon \Bcal \to \Ccal$ mappings such that $gf$ and $f$ are
  homomorphisms.
  If $f$ is onto then $g$ is also a~homomorphism.
\end{lem}
\begin{proof}
  Choose an arbitrary operation $\rho$ of an arity $\delta$.
  For brevity, let us write $\rho(x_i)$ instead of $\rho((x_i)_{i\in \delta})$.
  Then we have
  \[
    g( \rho(b_i) )
    = g( \rho(f(a_i)) )
    = gf( \rho(a_i) )
    = \rho( gf(a_i) )
    = \rho( g(b_i) );
  \]
  the first equality because $f$ is onto;
  the second equality because $f$ is a~homomorphism and the third one because
  $gf$ is a~homomorphism.
\end{proof}

\subsection*{Category theory}

\begin{itemize}
\item A \emph{category} $\Ccal$ is a collection consisting of
  \begin{itemize}
  \item class~$\Ccal^O$ of \emph{objects\/}
  \item class~$||\Ccal||$ of \emph{morphisms\/} between objects\thinspace%
  \footnote{a~concrete morphism $f$ between objects $A$ and $B$ is denoted by
    $f\colon A \to B$}
  \end{itemize}
further satisfying the axioms of
  \begin{itemize}
  \item \emph{(identity)\/}
  For every $X\in \Ccal^O$ there is a~morphism $1_X$ such that for any $f\colon
  A \to B$ we have $1_B \cdot f = f = f \cdot 1_A$.
  \item \emph{(asociativity)\/}
  Whenever $f\colon A \to B$, $g\colon B \to C$ and $h\colon C \to D$ then also $h
  \cdot (g \cdot f) = (h \cdot g) \cdot f$.
  \end{itemize}

\item The \emph{opposite category}~$\mathcal{C}^{op}$ of a category
$\mathcal{C}$ comprises the same objects $\Ccal^O$ and ``reverse'' morphisms
$f^{op}\colon A \leftarrow B$ for each morphism $f\colon A \to B$
in~$||\Ccal||$.

\item For $A' \subseteq A$, the \emph{(domain) restriction} of a~morphism $f\colon A \to
B$ to $A' \to B$ is a~morphism $g \colon A' \to B$ such that $g(x) = f(x)$ for
all $x\in A'$.

\item The \emph{(codomain) restriction} of a~morphism $f\colon A \to B$ to $A
\to B'$ (such that $B' \supseteq f[A]$) is a~morphism $g \colon A \to B'$ such
that $g(x) = f(x)$ for all $x\in A$.

\item An \emph{epimorphism} is a right-cancellative morphism $e$, that is,
\[
  f_1 \cdot e = f_2 \cdot e \; \Longrightarrow \; f_1 = f_2.
\]
We also refer to this by saying that \emph{$e$ is epic\/}.
\end{itemize}

\begin{fact} \label{fct:onto->epic}
  Every morphism onto is epic.
\end{fact}
(Or else there would be $y$ with $f_1(y) \ne f_2(y)$.
 From surjectivity, the existence of~$x$ such that $e(x) = y$ would lead to
 $f_1 \cdot e(x) \ne f_2 \cdot e(x)$; contradicting $f_1 \cdot e = f_2 \cdot
 e$.)

\begin{itemize}
\item An \emph{isomorphism} is a~morphism $f\colon A \to B$ that has
an~\emph{inverse morphism\/} $\overline{f}\colon B \to A$ holding both
\[
  \overline{f} \cdot f = 1_A \text{ and } f \cdot \overline{f} = 1_B.
\]
\end{itemize}

\begin{lem} \label{lem:epi->iso}
  Let an~epimorphism $e$ satisfy $f \cdot e = 1$.
  Then $e$ is an~isomorphism.
\end{lem}
\begin{proof}
  The $f$ is the inverse of~$e$:
  \[
    f \cdot e = 1 \; \Rightarrow \; e \cdot f \cdot e = e \; \Rightarrow \; e
    \cdot f = 1
  \]
  (the second implication because $e$ is epic).
\end{proof}

\begin{itemize}
\item A \emph{product} of a system $\left(A_i\right)_{i\in J}$ is a~system
of~\emph{projections\/}
\[
  \left(p_i\colon \prod_{j\in J} A_j \to A_i \right)_{i\in J}
\]
with the property that for an~arbitrary system $\left(f_i\colon X \to
A_i\right)_{i\in J}$ there is a~unique solution~$f\colon X \to \prod_{j\in
J} A_j$ to equations
\[
  p_i \cdot f = f_i \text{ for } i\in J.
\]

\item Similarly, a \emph{coproduct} is a product in the opposite category.
Namely, it is a~system of~\emph{injections\/}
\[
  \left(\iota_i\colon A_i \to \coprod_{j\in J} A_j \right)_{i\in J}
\]
such that every $\left(g_i\colon A_i \to X \right)_{i\in J}$ has a~single
solution~$g\colon \coprod_{j\in J} A_j \to X$ to~equations
\[
  g \cdot \iota_i = g_i \text{ for } i\in J.
\]

\item The~\emph{diagonal} is the (only) morphism $\Delta\colon A \to \prod_{i\in
J} A$ solving the system $p_i\cdot \Delta = 1_A$ for $i \in J$.
Dually, the~\emph{codiagonal} is the solution $\nabla\colon \coprod_{i\in J} A
\to A$ to the system $\nabla\cdot \iota_i = 1_A, \, i \in J$.
\end{itemize}


\subsection*{Point-set topology}

\begin{itemize}
\item A \emph{topological space} is a~structure of
  \begin{itemize}
  \item the set of \emph{points\/} $X$
  \item \emph{open sets\/} $\tau\subseteq 2^X$ satisfying axioms
    \begin{description}
    \item[(o1)] $\none, X \in \tau$
    \item[(o2)] $\left\{ U_i \st i\in J \right\} \subseteq \tau \; \Rightarrow
    \; \bigcup_{i\in J} U_i \in \tau$
    \item[(o3)] $U_1, U_2 \in \tau \; \Rightarrow \; U_1 \cap U_2 \in \tau$
    \end{description}
  \end{itemize}

\item A~\emph{basis} of a topological space $(X, \tau)$ is the
$\mathcal{B}\subseteq \tau$ such that for every open $U$ we can write $U =
\bigcup \{V\in \mathcal{B} \st V\subseteq U \}$.

\item $\mathcal{S}\subseteq \tau$ is a~\emph{subbasis} of a
topological space $(X, \tau)$ if $\left\{ \bigcap \mathcal{F} \st \mathcal{F}
\Subset \mathcal{S} \right\}$ is a~basis of~$\tau$.
\end{itemize}

\begin{exmpl}
  The topology $\I$ consists of the carrier set $\langle 0, 1 \rangle$ and open
  sets generated by subbasis $\{ \langle 0, a \langle, \; \rangle a, 1 \rangle
  \st a\in \langle 0, 1 \rangle \}$.
\end{exmpl}

\begin{exmpl}
  The topological space $\left( \prod_{i\in J} X_i, \mathcal{S} \right)$ with
  the subbasis
  \[
    \mathcal{S} = \left\{ p_{i}^{-1}[U] \st i\in J, \; U\in \tau_i \right\}
  \]
  is the product of topological spaces $\left( X_i \right)_{i\in J}$;
  more precisely, the projections
  \[
    \left( p_i\colon \left(\prod_{i\in J} X_i, \mathcal{S}\right) \to
    \left(X_i, \tau_i\right) \right)_{i\in J}
  \]
  constitute the product in~the~category~{\bf Top}.
\end{exmpl}

\begin{itemize}
\item A function $f\colon X \to Y$ between topological space $X$ and $Y$ is
\emph{continuous} if 
\[
  U\in \Omega(Y) \; \Longrightarrow \; f^{-1}[U]\in \Omega(X).
\]
Since the preimage function preserves unions and finite intersections, this
amounts to requiring that $f^{-1}[U]$ is open for all \emph{subbasic\/} $U$.
\end{itemize}

\subsection*{Point-free topology}

\begin{itemize}
\item A \emph{frame} is a~complete lattice $L$ satisfying ``infinite'' version
of distributivity
\[
  b \wedge \bigvee A = \bigvee \{ b \wedge a \st a\in A \}
\]
for every $A\subseteq L$ and $b\in L$.

\item A \emph{frame homomorphism} between frames $M$ and $L$ is a~map $h\colon
M \to L$ preserving all joins (in particular, $h(0) = 0$) and~all finite meets
(especially, $h(1) = 1$).

\item The category of~frames and frame homomorphisms will be denoted by {\bf
Frm}.

\item A \emph{locale} is a~frame (the different name because of~different
morphisms).

\item A \emph{localic map} between locales $L$ and $M$ is a mapping $f\colon L
\to M$ with left Galois adjoints $f^*\colon M \to L$ such that $f^*$ is a frame
homomorphism.
Thus, localic maps are infima-preserving maps such that their left adjoints
preserve finite meets.

\item We will write {\bf Loc} for the resulting category of~locales and localic
maps.
Hence, $\mathbf{Loc} = \mathbf{Frm}^{op}$.

\item A \emph{sublocale} of locale $L$ is a $S\subseteq L$ satisfying
  \begin{description}
  \item[(S1)] $M\subseteq S \Longrightarrow \bigwedge M\in S$
  \item[(S2)] $x\in L \text{ and } s\in S \Longrightarrow x \rightarrow s \in S$ 
  \end{description}
\end{itemize}

\begin{fact}
  The set-theoretic image $f[L]$ under a localic map $f\colon L\to M$
  is a~sublocale of~$M$.
\end{fact}

\begin{itemize}
\item A~sublocale $S \subseteq L$ is \emph{closed\/} if there exist $a\in L$
such that $S = \left\uparrow a\right.$.

%\item The \emph{closure\/} of $S$, the least closed sublocale containing $S$,
%is given by~the formula
%\[
%  \overline{S} = \textstyle \left\uparrow (\bigwedge S) \right..
%\]
%Indeed:
%evidently, $S\subseteq \left\uparrow (\bigwedge S) \right.$ and by (S1) for
%every sublocale $T\supseteq S$ we have $\bigwedge S \in T$.

\item A~localic map $f\colon L \to M$ is called \emph{closed\/} if the image
of~every closed sublocale is also closed.
\end{itemize}

\begin{prop} \label{prop:closed-map-char}
  A~localic map $f\colon L \to M$ is closed iff
  \[
    f[ \left\uparrow a\right. ] = \left\uparrow f(a)\right.
  \]
  for each $a\in L$.
\end{prop}
\begin{proof}
  $\Rightarrow$:
  There exists $b$ such that $f[ \left\uparrow a\right. ] = \left\uparrow
  b\right.$.
  As the $f$ is monotone, the~$f(a)$ is the smallest in $f[ \left\uparrow
  a\right. ]$ and hence $f(a) \le b$.
  Conversely, $f(a) \ge b$ is obvious.

  $\Leftarrow$:
  Trivial.
\end{proof}

\subsubsection*{On coproducts in Frm}

In the category of~frames we have a~coproduct
\[
  \iota_i: L_i \to L_1 \oplus L_2, \, i = 1, 2
\]
(there is a general coproduct but we will need a coproduct of two objects
 only).
It can be constructed as follows.

\begin{itemize}
\item
\phantomsection \label{df:satur}
A down-set $U\subseteq L_1 \times L_2$ is \emph{saturated\/} if for all systems
$(x_i)_{i\in J}$ in $L_1$ resp. $L_2$ and all $y$ in $L_2$ resp. $L_1$ we have
\begin{align*}
    \{ (x_i, y) \st i\in J \} \subseteq U \, &\Rightarrow \, (\bigvee x_i,
        y)\in U \\
    \text{and } \{ (y, x_i) \st i\in J \} \subseteq U \, &\Rightarrow \, (y,
        \bigvee x_i)\in U.
  \end{align*}

\item The definition above concerns also the void $J$ and hence for each
saturated down-set~$U$ we get
\[
  U\supseteq \n := \{ (x, y) \st x = 0 \text{ or } y = 0 \}.
\]
Since $\n$ itself is obviously saturated, it is \emph{the least saturated
down-set\/}.

\item $L_1 \oplus L_2$ will be the set of~all saturated elements in $\D(L_1
\times L_2)$.
In other words, $L_1 \oplus L_2$ is the frame of~all saturated down-sets of
$L_1 \times L_2$ ordered by~the~inclusion.
\end{itemize}

\begin{prop}
For $(a, b)\in L_1 \times L_2$ the down-set
\[
  \darr (a, b) \cup \n
\]
is saturated.
\end{prop}
\begin{proof}
  Let $(x_i, y)\in \darr (a, b) \cup \n$ for $i\in J$.

  \underline{Case $y = 0$}:
  evidently, $(\bigvee_{i\in J} x_i, y) \in \n$.

  \underline{Case $y \ne 0$ and $\bigvee x_i = 0$}:
  again $(\bigvee_{i\in J} x_i, y) \in \n$.

  \underline{Case $y \ne 0$ and $\bigvee x_i \ne 0$}:
  Then $x_t \ne 0$ for some $t\in J$.
  Thus, $(x_t, y)\in \darr (a, b)$, and hence, $(x_i, y) \le (a, b)$ for all
  $i\in J$.
  Finally, $(\bigvee_{i\in J} x_i, y) \in \darr (a, b)$.

  Symmetrically for $(x, \bigvee_{i\in J} y_i)$.
\end{proof}

\begin{itemize}
\item This element of $L_1 \oplus L_2$ is denoted by
\[
  a \oplus b
\]
and we have the coproduct injections $\iota_i: L_i \to L_1 \oplus
L_2$ defined by
\[
  \iota_1(a) := a \oplus 1, \; \iota_2(b) := 1 \oplus b.
\]
\end{itemize}

We will not prove that frame~$L_1 \oplus L_2$ constitutes a~coproduct.
For full details consult Chapter~IV of Picado and Pultr
\cite{picado-pultr12}.

\begin{cor}
\phantomsection \label{oplus-iota}
Due to the coordinatewise meet, we have
\[
  a \oplus b = \iota_1(a) \wedge \iota_2(b).
\]
\end{cor}

\begin{itemize}
\item
Note that for all saturated $U$ we have
\[
  U
  = \bigcup \{ (a, b) \st (a, b)\in U \} = \bigcup \{ a \oplus b \st (a, b)\in
  U \}
\]
(the second equality because $U$ is a~down-set).
As the set-theoretic union of down-sets is also a~down-set, it coincides with
their join.
Therefore, we may write
\[
  U
  = \bigvee \{ a \oplus b \st (a, b)\in U \}
\]
and thus
\phantomsection \label{a+b-gen}
\emph{the elements $a \oplus b$ generate $L_1 \oplus L_2$\/}.
\end{itemize}

\begin{itemize}
\item
\phantomsection
\label{codiag-in-Frm}
For the codiagonal $\nabla\colon L \oplus L \to L$ in {\bf Frm} we can write
\[
  \nabla(U)
  = \nabla \left( \bigvee \left\{ a \oplus b \st (a, b)\in U \right\} \right)
  = \bigvee \left\{ \nabla(a \oplus b) \st (a, b)\in U \right\},
\]
(using the commutativity of frame homomorphism~$\nabla$ with joins).
Moreover, by the previous corollary,
\[
  \nabla(a \oplus b)
  = \nabla( \iota_1(a) \wedge \iota_2(b) )
  = \nabla(\iota_1(a)) \wedge \nabla(\iota_2(b))
  = a \wedge b
\]
since frame homomorphism~$\nabla$ preserves finite meets and solves
$\nabla\cdot \iota_i = id$ for~$i = 1, 2$.
In conclusion,
\[
  \boxed{
    \nabla(U)
    = \bigvee \left\{ a \wedge b \st (a, b)\in U \right\}
    = \bigvee \left\{ x \st (x, x)\in U \right\}
  }
\]
because $(a, b)\in U \Rightarrow (a \wedge b, a \wedge b)\in U$ for any
down-set $U$.

\item Note that we have $\nabla(a \oplus a) = a \wedge a = a$; hence, the
codiagonal~$\nabla$ is onto, and from~Fact~\ref{fct:onto->epic}\thinspace,
an~epimorphism.

\item The diagonal $\Delta\colon L \to L \oplus L$ in the opposite category
{\bf Loc} is the right adjoint of~$\nabla$.
Thus, we would wish that
\begin{align*}
  U\subseteq \Delta(a)
  \; &\equiv \; \nabla(U) \le a
  \; \equiv \; \bigvee \left\{ u_1 \wedge u_2 \st (u_1, u_2)\in U \right\} \le
  a \\
  \; &\equiv \; \forall (u_1, u_2)\in U\colon \, u_1 \wedge u_2 \le a,
\end{align*}
which---after setting $U := \Delta(a)$---produces the final formula for the
diagonal
\[
  \boxed{
    \Delta(a) = \left\{ (u_1, u_2) \st u_1 \wedge u_2 \le a \right\}.
  }
\]
\end{itemize}

\begin{lem} \label{lem:delta-monotone}
  $\Delta(a) \subseteq \Delta(b) \text{ iff } a \le b$.
\end{lem}
\begin{proof}
  $\Rightarrow$:
  Since $a \wedge a \le a$, it follows that $(a, a)\in \Delta(a) \subseteq
  \Delta(b)$.
  Hence, $a \wedge a \le b$.

  $\Leftarrow$:
  The infima-preserving $\Delta$ is monotone.
\end{proof}

\begin{cor} \label{cor:delta-of-upsets}
  For any $a\in L$ it holds that $\Delta[ \left\uparrow a\right. ] \subseteq
  \left\uparrow \Delta(a)\right.$.
\end{cor}

\section*{Convention}

In the whole text we will neglect the $T_0$ axiom, that is, we will assume all
topological spaces to be $T_0$-spaces.
Thus, every topological space $(X, \tau)$ satisfies the condition
\begin{center} \it
  for any $x \ne y$ from $X$ there is an open set $U \in \tau$ such that $x \in
  U \not\owns y$ or $y \in U \not\owns x$.
\end{center}
